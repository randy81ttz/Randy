<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì‚¬í†¡ìœ¼ë¡œ ë°°ìš°ëŠ” ê¸ˆìœµ: % vs %p</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #111827;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .app-container {
            width: 100%;
            max-width: 380px;
            aspect-ratio: 9 / 16;
            background-color: #A8C5D4;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border-radius: 2rem;
            border: 4px solid #4B5563;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .screen { display: none; height: 100%; width: 100%; flex-direction: column; }
        .screen.active { display: flex; }
        #main-screen { justify-content: center; align-items: center; text-align: center; color: #1F2937; background: linear-gradient(135deg, #FFFDE7, #FFF8E1); padding: 2rem; }
        .chat-header { background-color: #F9FAFB; color: #1F2937; flex-shrink: 0; border-bottom: 1px solid #E5E7EB; }
        .chat-box { scroll-behavior: smooth; }
        .chat-box::-webkit-scrollbar { width: 4px; }
        .chat-box::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }
        .chat-bubble-wrapper { opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease-out, transform 0.4s ease-out; }
        .chat-bubble-wrapper.show { opacity: 1; transform: translateY(0); }
        .typing-indicator span { animation: blink 1.2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.2; } 50% { opacity: 1; } }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        .highlight { font-weight: 900; color: #EF4444; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        #summary-screen { justify-content: center; align-items: center; text-align: center; color: #1F2937; background: linear-gradient(135deg, #FFD54F, #FFB300); padding: 2rem; animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>
    <div class="app-container">
        <div id="main-screen" class="screen active">
            <div class="flex-grow flex flex-col justify-center items-center">
                <h1 class="text-3xl font-black text-gray-800 leading-tight">"ì‘ë…„ë³´ë‹¤ ì´ìµë¥  <span class="text-red-500">5%</span> ìƒìŠ¹"</h1>
                <h1 class="text-3xl font-black text-gray-800 mt-2 leading-tight">"ì˜ˆê¸ˆ ê¸ˆë¦¬ <span class="text-blue-500">5%p</span> ìƒìŠ¹"</h1>
                <h2 class="text-2xl font-bold mt-10 text-gray-600">í˜¹ì‹œ...<br>ì´ ë‘˜ì˜ ì°¨ì´, ì•Œê³  ê³„ì„¸ìš”?</h2>
            </div>
            <button id="start-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-4 rounded-xl transition duration-300 mt-8 shadow-lg text-lg">ì•Œì•„ë³´ê¸°</button>
        </div>
        <div id="chat-container" class="screen">
            <div class="chat-header p-3 flex items-center shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-gray-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                <h1 class="text-lg font-bold text-gray-800">ì •ì„ ë°°</h1>
            </div>
            <div id="chat-box" class="chat-box flex-1 p-4 overflow-y-auto bg-[#b2c6d7] space-y-4"></div>
        </div>
        <div id="summary-screen" class="screen">
            <h2 class="text-2xl font-bold mb-4">í—·ê°ˆë¦¬ëŠ” ê¸ˆìœµ ìš©ì–´,</h2>
            <h1 class="text-5xl font-black text-white mb-8" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">ì´ê²ƒë§Œ ê¸°ì–µí•˜ì„¸ìš”!</h1>
            <div class="w-full bg-white/50 p-6 rounded-2xl shadow-xl">
                <p class="text-3xl font-bold">% (í¼ì„¼íŠ¸)ëŠ”</p>
                <p class="text-4xl font-black mt-1">ê³±ì…ˆ/ë‚˜ëˆ—ì…ˆ (ë¹„ìœ¨)</p>
                <hr class="my-6 border-gray-700/50">
                <p class="text-3xl font-bold">%p (í¼ì„¼íŠ¸í¬ì¸íŠ¸)ëŠ”</p>
                <p class="text-4xl font-black mt-1">ë§ì…ˆ/ëº„ì…ˆ (ë‹¨ìˆœ ì°¨ì´)</p>
            </div>
        </div>
    </div>
<script>
    const mainScreen = document.getElementById('main-screen');
    const startButton = document.getElementById('start-btn');
    const chatContainer = document.getElementById('chat-container');
    const chatBox = document.getElementById('chat-box');
    const summaryScreen = document.getElementById('summary-screen');
    
    // --- ëŒ€í™” ë‚´ìš© ë° ì‹œê°„ ì„¤ì • ---
    // typingDuration ê°’ì„ ì¤„ì—¬ì„œ íƒ€ì´í•‘ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ ì¡°ì •
    const conversation = [
        { sender: 'rookie', name: 'ì˜¤ì‹ ì…', text: "ì„ ë°°ë‹˜! '% ìƒìŠ¹'ê³¼ '%p ìƒìŠ¹'ì€ ê°™ì€ ë§ ì•„ë‹Œê°€ìš”? ë„ˆë¬´ í—·ê°ˆë ¤ìš”!", typingDuration: 2000, delayAfter: 1000 },
        { sender: 'senior', name: 'ì •ì„ ë°°', text: "ì˜¤ì‹ ì…ë‹˜, ì•„ì£¼ ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”! ì§€ê¸ˆë¶€í„° ë”± 1ë¶„ ë§Œì— ì™„ë²½íˆ ì •ë¦¬í•´ ë“œë¦´ê²Œìš”. ë¨¼ì €, <b class='text-blue-600'>í¼ì„¼íŠ¸(%)</b>ëŠ” 'ë¹„ìœ¨'ì´ì—ìš”.", typingDuration: 2000, delayAfter: 1200 },
        { sender: 'senior', name: 'ì •ì„ ë°°', text: "ì˜ˆë¥¼ ë“¤ì–´ ì›”ê¸‰ 300ë§Œ ì›ì´ <span class='highlight'>10%</span> ì˜¬ëë‹¤ë©´? ğŸ’µ<br>300ë§Œ ì› Ã— 10% = <b>30ë§Œ ì›</b>ì´ ì˜¤ë¥´ëŠ” ê±°ì£ . ì¦‰, <b class='text-blue-600'>ê³±ì…ˆ</b> ê³„ì‚°!", typingDuration: 2500, delayAfter: 1800 },
        { sender: 'rookie', name: 'ì˜¤ì‹ ì…', text: "ì•„í•˜! ê·¸ëŸ¼ í¼ì„¼íŠ¸í¬ì¸íŠ¸ëŠ”ìš”?", typingDuration: 1500, delayAfter: 1000 },
        { sender: 'senior', name: 'ì •ì„ ë°°', text: "<b>í¼ì„¼íŠ¸í¬ì¸íŠ¸(%p)</b>ëŠ” ë” ì‰¬ì›Œìš”. ê·¸ëƒ¥ ìˆ«ìë¼ë¦¬ì˜ 'ë‹¨ìˆœ ì°¨ì´'ì…ë‹ˆë‹¤.", typingDuration: 2000, delayAfter: 1200 },
        { sender: 'senior', name: 'ì •ì„ ë°°', text: "ì˜ˆê¸ˆ ê¸ˆë¦¬ê°€ 2%ì—ì„œ 3%ë¡œ ì˜¬ëë‹¤ë©´? ğŸ¦<br>3% - 2% = <span class='highlight'>1%p</span> ì˜¤ë¥¸ ê±°ì˜ˆìš”. ì¦‰, <b class='text-red-600'>ëº„ì…ˆ</b> ê³„ì‚°!", typingDuration: 2500, delayAfter: 1800 },
        { sender: 'rookie', name: 'ì˜¤ì‹ ì…', text: "ë§Œì•½ 'ê¸ˆë¦¬ê°€ 1% ì˜¬ëë‹¤'ê³  í•˜ë©´ ì–´ë–»ê²Œ ë‹¤ë¥¸ê°€ìš”?", typingDuration: 2000, delayAfter: 1500 },
        { sender: 'senior', name: 'ì •ì„ ë°°', text: "ì¢‹ì€ ì§€ì ! ê·¸ê±´ ê¸°ì¡´ ê¸ˆë¦¬ 2%ì˜ 1%ì¸... <span class='highlight'>0.02%</span>ê°€ ì˜¬ëë‹¤ëŠ” ëœ»ì´ ë¼ìš”. <b class='text-red-600'>1%p</b>ì™€ëŠ” ì—„ì²­ë‚œ ì°¨ì´ì£ ?", typingDuration: 2800, delayAfter: 2000 },
        { sender: 'rookie', name: 'ì˜¤ì‹ ì…', text: "ì™€! ì´ì œì•¼ í™•ì‹¤íˆ ì•Œê² ì–´ìš”! ê°ì‚¬í•©ë‹ˆë‹¤!", typingDuration: 0, delayAfter: 1500 }
    ];

    let timeoutIds = [];
    let isPlaying = false;

    function createTypingIndicator() { /* ...ìƒëµ... */ }
    function playConversation() { /* ...ìƒëµ... */ }
    
    // (ì´í•˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ì „ ë²„ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤)
    function createTypingIndicator() {
        const typingDiv = document.createElement('div');
        typingDiv.id = 'typing-indicator';
        typingDiv.className = 'flex items-start space-x-2';
        typingDiv.innerHTML = `<div class="w-8 h-8 rounded-full bg-gray-300 flex-shrink-0 flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="flex items-center space-x-1.5 p-3 bg-white rounded-lg mt-5"><span class="block w-2 h-2 bg-gray-400 rounded-full"></span><span class="block w-2 h-2 bg-gray-400 rounded-full"></span><span class="block w-2 h-2 bg-gray-400 rounded-full"></span></div>`;
        return typingDiv;
    }
    function playConversation() {
        if (isPlaying) return;
        isPlaying = true;
        chatBox.innerHTML = '';
        let cumulativeDelay = 500;
        conversation.forEach((msg, index) => {
            const isLastMessage = index === conversation.length - 1;
            if (msg.typingDuration > 0) {
               timeoutIds.push(setTimeout(() => {
                    if(msg.sender === 'senior') {
                       const indicator = createTypingIndicator();
                       chatBox.appendChild(indicator);
                       chatBox.scrollTop = chatBox.scrollHeight;
                    }
               }, cumulativeDelay));
            }
            cumulativeDelay += msg.typingDuration;
            timeoutIds.push(setTimeout(() => {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) indicator.remove();
                const messageWrapper = document.createElement('div');
                messageWrapper.className = 'flex chat-bubble-wrapper';
                if (msg.sender === 'senior') {
                    messageWrapper.classList.add('justify-start', 'items-start', 'space-x-2');
                    messageWrapper.innerHTML = `<div class="w-8 h-8 rounded-full bg-gray-300 flex-shrink-0 flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div><div class="text-xs font-bold text-gray-700 mb-1">${msg.name}</div><div class="px-4 py-2 rounded-lg max-w-[250px] break-words bg-white text-gray-800 shadow-sm">${msg.text}</div></div>`;
                } else {
                    messageWrapper.classList.add('justify-end');
                    messageWrapper.innerHTML = `<div class="px-4 py-2 rounded-lg max-w-[250px] break-words bg-yellow-300 text-gray-800 shadow-sm">${msg.text}</div>`;
                }
                chatBox.appendChild(messageWrapper);
                setTimeout(() => messageWrapper.classList.add('show'), 50);
                chatBox.scrollTop = chatBox.scrollHeight;
                if (isLastMessage) {
                     timeoutIds.push(setTimeout(() => {
                        chatContainer.classList.remove('active');
                        summaryScreen.classList.add('active');
                        isPlaying = false;
                    }, msg.delayAfter));
                }
            }, cumulativeDelay));
            cumulativeDelay += msg.delayAfter;
        });
    }
    startButton.addEventListener('click', () => {
        mainScreen.classList.remove('active');
        chatContainer.classList.add('active');
        playConversation();
    });
</script>
</body>
</html>
